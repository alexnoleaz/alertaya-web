<div class="card shadow-sm p-3 mb-3">
  <h5 class="mb-3 d-flex align-items-center">
    <i class="bi bi-exclamation-triangle-fill me-2"></i> Recomendaciones por
    provincia
  </h5>
  <div class="mb-3" style="position: relative; z-index: 1050">
    <label for="provincia" class="form-label">Selecciona una provincia:</label>
    <select
      class="form-select"
      id="provincia"
      #selector
      (change)="seleccionarProvincia(selector.value)"
    >
      <option disabled selected>-- Selecciona una provincia --</option>
      <option *ngFor="let p of provincias" [value]="p.nombre">
        {{ p.nombre }}
      </option>
    </select>
  </div>

  <div
    *ngIf="provinciaSeleccionada"
    class="p-3 border rounded"
    [ngClass]="'border-' + getBadgeColor(nivel)"
    @fadeIn
  >
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h6 class="mb-0">
        <i class="bi bi-geo-alt-fill me-1"></i>
        {{ provinciaSeleccionada.nombre }}
      </h6>
      <span class="badge bg-{{ getBadgeColor(nivel) }}">{{ nivel }}</span>
    </div>

    <p class="mb-1">
      <i class="bi bi-cloud-rain-fill me-1"></i>
      <strong>{{ lluvia }} mm/h</strong>
    </p>

    <ul class="mb-0">
      <li *ngFor="let rec of recomendaciones" class="mb-1">
        <i
          class="bi bi-check-circle-fill me-1 text-{{ getBadgeColor(nivel) }}"
        ></i>
        {{ rec }}
      </li>
    </ul>
  </div>
</div>
